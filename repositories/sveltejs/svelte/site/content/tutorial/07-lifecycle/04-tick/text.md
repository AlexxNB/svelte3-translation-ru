---
title: tick
---

Функция `tick` отличается от других функций жизненного цикла тем, что вы можете вызывать ее в любое время, а не только при первоначальной инициализации компонента. Она возвращает промис, который будет выполнен, как только к DOM будут применены все необходимые на данный момент изменения состояния(или сразу, при отсутствии таковых).

Когда изменяется состояние компонента, Svelte не обновляет DOM немедленно. Вместо этого он ожидает запуска *микрозадачи* по обновлению DOM, и проверяет, есть ли какие-либо другие изменения, которые необходимо применить, в том числе в других компонентах. Это позволяет избежать лишней работы и позволяет браузеру более эффективно группировать задачи.

Вы можете наблюдать такое поведение в нашем примере. Выделите часть текста и нажмите клавишу Tab. Поскольку значение `<textarea>` изменяется, текущее выделение пропадёт, а курсор окажется в конце строки. Мы можем исправить это, при помощи `tick`...

```js
import { tick } from 'svelte';
```

...и запустим её непосредственно перед установкой `this.selectionStart` и `this.selectionEnd` в конце обработчика `handleKeydown`:

```js
await tick();
this.selectionStart = selectionStart;
this.selectionEnd = selectionEnd;
```
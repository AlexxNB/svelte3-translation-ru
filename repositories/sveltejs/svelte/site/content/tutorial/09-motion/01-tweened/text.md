---
title: Tweened
---

Изменить какое-либо значение в состоянии приложения и наблюдать за автоматическим обновлением DOM - это круто. А знаете, что еще круче? Когда значение меняется с начального на конечное не одномоментно, а *рассчитываются промежуточные значения*. В Svelte есть инструменты для создания плавных пользовательских интерфейсов, которые используют анимацию при изменении значений.

Давайте сначала превратим `progress` из хранилища в `tweened`:

```html
<script>
	import { tweened } from 'svelte/motion';

	const progress = tweened(0);
</script>
```

Теперь при нажатии кнопок новое значение прогрессбара будет отображено с анимацией. Но выглядит она как-то грубо. Нам нужно добавить функцию плавности:

```html
<script>
	import { tweened } from 'svelte/motion';
	import { cubicOut } from 'svelte/easing';

	const progress = tweened(0, {
		duration: 400,
		easing: cubicOut
	});
</script>
```

> Модуль `svelte/easing` содержит в себе [уравнения плавности Пеннера](http://robertpenner.com/easing/). Но вы можете использовать и собственную функцию `p => t`, где оба значения `p` и `t` должны быть в диапазоне от 0 до 1.

Полный список параметров для `tweened`:

* `delay` — задержка в миллисекундах перед началом изменения значения
* `duration` — либо длительность изменения в миллисекундах, либо функция `(from, to) => milliseconds`, позволяющая указывать длительность на основе начального и конечного значений.
* `easing` — функция вида `p => t`
* `interpolate` — пользовательская функция `(from, to) => t => value` для интерполяции между произвольными типами значений. По умолчанию Svelte умеет рассчитывать промежуточные значения между числами, датами, массивами одинаковой структуры и объектами (при условии, что они содержат только числа, даты или другие допустимые массивы и объекты). Например, если вы хотите интерполировать строки hex-цветов или матрицы преобразования — понадобится использовать пользовательский интерполятор.

Эти параметры можно передать вторым аргументом также и в методы `progress.set` и` progress.update` для переопределения значений по умолчанию. Методы `set` и `update` возвращают промис, который разрешается после завершения анимации.
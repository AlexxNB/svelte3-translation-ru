---
title: Совместное использование кода
---

Во всех примерах, которые мы видели до сих пор, блок `<script>` содержал код, который выполнялся в каждом  отдельном экземпляре компонента. Для подавляющего большинства случаев этого достаточно.

Время от времени нужно будет иметь возможность исполнить код для всех экземпляров сразу. Например, вы можете запустить сразу все пять аудиоплееров на странице одновременно. Но было бы лучше, если бы при запуске одного плеера, остальные останавливались.

Мы можем сделать это, объявив блок `<script context="module">`. Содержащийся в нем код будет запускаться только один раз, при загрузке модуля, ещё до создания экземпляров компонента. Поместите следующий код в начале файла `AudioPlayer.svelte`:

```html
<script context="module">
	let current;
</script>
```

Теперь компоненты могут 'разговаривать' друг с другом:

```js
function stopOthers() {
	if (current && current !== audio) current.pause();
	current = audio;
}
```
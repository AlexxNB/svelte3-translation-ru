---
title: Блок each с ключом
---

По умолчанию, когда вы изменяете список, который используется в блоке `each`, Svelte будет добавлять и удалять элементы в *конце* блока и обновит все значения, которые изменились. Возможно, вам такое поведение не подойдет.

<!-- Проще показать, чем объяснить. Нажмите кнопку 'Удалить первый элемент' несколько раз и обратите внимание, что она удаляет компоненты `<Thing>` с конца и обновляет `color` для оставшихся. Вместо этого мы хотели бы удалить первый компонент `<Thing>` и оставить остальные без изменений. -->

Проще показать, чем объяснить. Нажмите кнопку 'Удалить первый элемент' несколько раз и обратите внимание на то, что происходит: он удаляет первый компонент `<Thing>`, но *последний* узел DOM. Затем он обновляет значение `name` в оставшихся узлах DOM, но не в эмодзи.

Вместо этого мы хотели бы удалить только первый компонент `<Thing>` и его узел DOM, а остальные оставить нетронутыми.

Для этого надо указать в блоке `each` идентификатор (или "ключ"), который однозначно идентифицирует элемент в списке:

```html
{#each things as thing (thing.id)}
	<Thing name={thing.name}/>
{/each}
```

<!-- Выражение `(thing.id)` помогает Svelte понять, что именно изменилось. -->
Выражение `(thing.id)` - это *ключ*, который сообщает Svelte, как определить, какой узел DOM нужно изменить при обновлении компонента.

> В качестве ключа можно использовать абсолютно любой объект, так как внутри Svelte использует `Map` — иначе говоря, можно использовать `(thing)` вместо `(thing.id)`. Однако использование строки или числа, как правило, безопаснее, поскольку, ссылка на объект не изменится в случае, если он, например, будет обновлен свежими данными полученными с сервера по API.
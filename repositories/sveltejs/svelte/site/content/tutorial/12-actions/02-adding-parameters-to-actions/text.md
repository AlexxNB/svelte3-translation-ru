---
title: Добавление параметров
---

Аналогично переходам и анимациям, действия могут принимать аргумент, который будет передан функции действия после ссылки на соответствующий HTML-элемент.

В этом уроке мы используем действие обрабатывающее длинное нажатие, посылающее событие `longpress` всякий раз, когда пользователь зажимает кнопку на определённое время. Но на данный момент, если вы заглянете в файл `longpress.js`, вы увидите, что там задано фиксированное время в 500мс.

Измените функцию действия, чтобы она принимала второй аргумент `duration` и предавала его в вызов функции `setTimeout`:

```js
export function longpress(node, duration) {
	// ...

	const handleMousedown = () => {
		timer = setTimeout(() => {
			node.dispatchEvent(
				new CustomEvent('longpress')
			);
		}, duration);
	};

	// ...
}
```

Вернитесь к файлу `App.svelte`, и передайте действию параметр `duration`:

```html
<button use:longpress={duration}
```

Это *почти* рабочий вариант — событие произойдёт через 2 секунды нажатия кнопки. Но если вы уменьшите значение задержки, событие всё равно произойдет через 2 секунды.

Чтобы это исправить, нужно добавить метод `update` в файле `longpress.js`. Он будет вызываться всякий раз при изменении параметра.

```js
return {
	update(newDuration) {
		duration = newDuration;
	},
	// ...
};
```

> Если нужно передать несколько параметров в действие, сгруппируйте их в объект, например `use:longpress={{duration, spiciness}}`
